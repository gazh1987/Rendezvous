<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css"/>
        <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
        <link rel="stylesheet" href="style.css"/>

        <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
        <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
        <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <script src="RendezvousUsers.js"></script>
        <script src="loginHandler.js"></script>
        <script src="User.js"></script>
        <script src="Map.js"></script>
        <script src="standardFunctionality.js"></script>
    </head>
		
	<body>
        <div data-role="page" id="main">
            <div data-role="header" id="header">

                <div class="dropdown">
                    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Menu
                        <span class="caret"></span></button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuDivider">
                            <!--<li><input type="button" class="btn btn-default" id="getFriend" value="Track Friends"></li>-->
                            <li><input type="button" class="btn btn-default" id="untrackFriend" value="Stop Tracking Friends"></li>

                            <li role="separator" class="divider"></li>
                            <a href="#friendsList" class="btn btn-default">Friends List</a>

                            <li role="separator" class="divider"></li>
                            <li><input type="button" class="btn btn-default" id="logout" value="Logout"></li>
                        </ul>
                        <h3 style="float:right">Rendezvous</h3>
                </div>
            </div>

            <div id="map" data-role="content">
            </div>
        </div>

        <div data-role="page" id="friendsList">
            <div data-role="header" id="header">
                <div class="dropdown">
                    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Menu
                        <span class="caret"></span></button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuDivider">
                            <a href="#main" class="btn btn-default">Map</a>
                        </ul>
                        <h3 style="float:right">Rendezvous</h3>
                </div>
            </div>

            <div data-role="main" class="ui-content">
                <ul data-role="listview" data-autodividers="true">

                    <script>
                        populateFriendsList();
                    </script>
                </ul>
            </div >

            <!--Called when friendsList button clicked-->
            <div id="friendClickOptions" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title" style="color:white"><strong>Friend Options</strong></h4>
                        </div>

                        <div id="modalBody" class="modal-body">
                            <p>Would you like to track this friend?</p>
                        </div>

                        <div id="modalFooter" class="modal-footer">
                            <button type="button" id="friendClickHandler" data-dismiss="modal" style="background-color:#0480be; color:white">Track Friend</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>

		<script>

            $(document).ready(function()
            {
                console.log("Device ready");

                //Create a new map
                var m = new Map();
            });

		</script>
	</body>
</html>